<label for="budget"> <b>How much do you want to ball out on this vacation?</b> </label>
<div id="budget" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"> <input type="radio" class="radio_item" value="extravagant" name="budget" id="extravagant"> $$$$ All the luxxx </div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="high" name="budget" id="high"> $$$ Let's not skimp, this is vacation after all </div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="medium" name="budget" id="medium"> $$ A little here, a splurge there </div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="low" name="budget" id="low"> $ Stretch that dough </div>
            <br>
        </div>
    </div>
</div>
<label for="activity"> <b>What do you like to do most on vacation?</b> </label></br>
<div id="activity" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"> <input type="radio" class="radio_item" value="adventure" name="activity" id="adventure"> Hike, explore, and adventure</div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="culture" name="activity" id="culture"> Immerse in history and culture </div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="shopping" name="activity" id="shopping"> Shopping please </div>
            <div class="radio-inline"> <input type="radio" class="radio_item" value="relaxation" name="activity" id="relaxation"> Unwind and take it easy </div>
            <br>
        </div>
    </div>
</div>
<label for="temperature"><b>What climate do you prefer?</b></label></br>
<div id="temperature" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="cold" name="temperature" id="cold"> I'm a snow bunny </div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="neutral" name="temperature" id="neutral"> I need room temperature outside </div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="hot" name="temperature" id="hot"> Beach weather please </div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="indifferent" name="temperature" id="indifferent"> The weather doesn't get me down </div>
            <br>
        </div>
    </div>
</div>
<!-- Favorite Food -->
<label for="food"><b>What's your favorite type of cuisine?</b></label><br>
<div id="food" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="italian" name="food" id="italian"> Italian</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="chinese" name="food" id="chinese"> Chinese</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="mexican" name="food" id="mexican"> Mexican</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="indian" name="food" id="indian"> Indian</div>
            <br>
        </div>
    </div>
</div>

<!-- Travel Companion -->
<label for="companion"><b>Who do you like to travel with?</b></label><br>
<div id="companion" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="alone" name="companion" id="alone"> Solo Adventuring</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="partner" name="companion" id="partner"> Romance with my boo</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="friends" name="companion" id="friends"> Getting the gang together</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="family" name="companion" id="family"> Kiddos in tow!</div>
            <br>
        </div>
    </div>
</div>

<!-- Preferred Night Time Activities -->
<label for="night-time"><b>What's your typical Saturday Night?</b></label><br>
<div id="night-time" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="clubbing" name="night-time" id="clubbing"> Dance the night away</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="bath" name="night-time" id="bath"> Bubble bath and a book</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="sports" name="night-time" id="sports"> League sports</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="art" name="night-time" id="art"> A new art exhibit</div>
            <br>
        </div>
    </div>
</div>

<!-- Favorite Architecture Aesthetic and Vibe -->
<label for="packing-items"><b>What's always a must on your packing list?</b></label><br>
<div id="packing-items" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="camera" name="packing-items" id="camera"> Camera, gotta build the instagram</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="bathing-suit" name="packing-items" id="bathing-suit"> A bathing suit or two or ten</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="dictionary" name="packing-items" id="dictionary"> Translation dictionary, I need to blend in as much as possible</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="hiking-shoes" name="packing-items" id="hiking-shoes"> Hiking shoes, I don't care how much room they take up</div>
            <br>
        </div>
    </div>
</div>

<!-- Dream Career -->
<label for="career"><b>What's your dream career?</b></label><br>
<div id="career" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="sculptor" name="career" id="sculptor"> Sculptor</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="chef" name="career" id="chef"> Chef</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="surfer" name="career" id="surfer"> Surfer</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="park" name="career" id="park"> Park Ranger</div>
            <br>
        </div>
    </div>
</div>

<!-- Favorite Movie Genre -->
<label for="movie"><b>What's your favorite movie genre?</b></label><br>
<div id="movie" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="action" name="movie" id="action"> Action</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="romance" name="movie" id="romance"> Romance</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="comedy" name="movie" id="comedy"> Comedy</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="sci-fi" name="movie" id="sci-fi"> Sci-Fi</div>
            <br>
        </div>
    </div>
</div>

<!-- How orderly are you? -->
<label for="orderly"><b>How organized is your closet?</b></label><br>
<div id="orderly" class="form-inline">
    <div class="form-group">
        <div class="column">
            <div class="radio-inline"><input type="radio" class="radio_item" value="very" name="orderly" id="very"> Color coordinated</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="moderate" name="orderly" id="moderate"> Shirts with shirts, pants with pants</div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="minimal" name="orderly" id="minimal"> Minimal clothes are easy to organize </div>
            <div class="radio-inline"><input type="radio" class="radio_item" value="chaotic" name="orderly" id="chaotic"> Organized?</div>
            <br>
        </div>
    </div>
</div>

<!-- Email Address -->
<label for="email"><b>What's your email address? (So we can send you your dream vacation details!)</b></label><br>
<div id="email" class="form-inline">
    <div class="form-group">
        <input type="email" class="form-control" name="email" id="email-input" placeholder="you@example.com">
        <br>
    </div>
</div>


<div id="destination-name" style="font-size: 24px; margin-top: 20px; display: none;"></div>
<img id="destination-image" src="" alt="Recommended Destination" style="max-width: 500px; display: none;">
<script>
    const possibleDestinations = {
        "Austin": "https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvdHgwXzk5MTcuanBn.jpg",
        "Australia": "https://live.staticflickr.com/2199/2270171257_7f1b1383cc_b.jpg",
        "Bali": "https://miro.medium.com/v2/resize:fit:1400/1*OLFkUynDw4bp1msWlvcgpw.jpeg",
        "Colombia": "https://www.kolumbia.travel/wp-content/uploads/2017/02/Bogota-284.jpg",
        "Cuba": "https://live.staticflickr.com/4303/35225454313_f8cae0d29f_b.jpg",
        "Greece": "https://miro.medium.com/v2/resize:fit:1400/1*S4SbI5_D6Tf4Z_W0IZo80A.jpeg",
        "Grenada": "https://img.goodfon.com/original/2048x1536/7/21/grenada-more-tsvety-iakhty-kariby.jpg",
        "Iceland": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Seljalandsfoss%2C_Su%C3%B0urland%2C_Islandia%2C_2014-08-16%2C_DD_201-203_HDR.JPG/500px-Seljalandsfoss%2C_Su%C3%B0urland%2C_Islandia%2C_2014-08-16%2C_DD_201-203_HDR.JPG",
        "Italy": "https://www.languagebird.com/wp-content/uploads/2023/05/upwk61908428-wikimedia-image.jpg",
        "Japan": "https://live.staticflickr.com/2578/3963705135_407f5aacfc_b.jpg",
        "London": "https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvcHg2ODYxMDctaW1hZ2Uta3d2eGh1NXQuanBn.jpg",
        "Mexico": "https://live.staticflickr.com/3506/4080102452_13e985783d_b.jpg",
        "Morocco": "https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvZmwxMTY1MjQ1OTQ5NC1pbWFnZS1rcHcwZWRtZi5qcGc.jpg",
        "New York": "https://upload.wikimedia.org/wikipedia/commons/f/ff/New_York_City_on_a_cloudy_day_%28Unsplash%29.jpg",
        "Paris": "https://takeitpersonelly.com/wp-content/uploads/2023/12/Maximizing-Your-Free-Time-in-Paris-During-a-Business-Trip.jpg",
        "Spain": "https://miro.medium.com/v2/resize:fit:1400/1*t6xwUOCI0g4MzK7AXc-NMg.jpeg"
    };

    const points = {
        "budget": {
            "extravagant": ['Italy', 'Iceland','Japan'],
            "high": ['New York', 'Australia', 'Paris', 'London', 'Greece', 'Grenada'],
            "medium": ['Morocco', 'Spain',  'Austin'],
            "low": ['Bali', 'Cuba', 'Mexico', 'Colombia']
        },
        "activity": {
            "adventure": ['Iceland', 'Australia', 'Colombia' ],
            "culture": ['Italy', 'Greece', 'Spain', 'Morocco', 'Cuba'],
            "shopping": ['Japan', 'Paris', 'New York', 'London',  'Austin'],
            "relaxation": ['Mexico', 'Bali', 'Grenada']
        },
        "temperature": {
            "cold": ['Iceland'],
            "neutral": ['Morocco', 'London', 'Paris', 'Japan'],
            "hot": ['Bali', 'Cuba', 'Grenada', 'Spain', 'Mexico', 'Greece'],
            "indifferent": ['Australia', 'Colombia']
        },
        "food": {
            "italian": ['Italy', 'Greece', 'Paris'],
            "chinese": ['Japan', 'Bali', 'New York'],
            "mexican": ['Mexico', 'Austin', 'Cuba', 'Spain', 'Colombia'],
            "indian": ['London', 'Morocco']
        },
        "companion": {
            "alone": ['Iceland', 'Colombia', 'Morocco'],
            "partner": ['Paris', 'Japan', 'Bali', 'Grenada', 'Italy'],
            "friends": ['New York', 'Greece', 'Austin', 'Cuba' ],
            "family": ['Mexico', 'Spain', 'London', 'Australia']
        },
        "night-time": {
            "clubbing": ['Japan', 'Austin', 'New York', 'Greece', 'Cuba'],
            "bath": ['Grenada', 'Mexico', 'Bali'],
            "sports": ['Colombia', 'Iceland','Australia'],
            "art": ['London', 'Morocco', 'Spain','Italy', 'Paris' ]
        },
        "packing-items": {
            "camera": ['Paris', 'London', 'Greece', 'Italy', 'New York'],
            "bathing-suit": [ 'Austin','Mexico','Bali', 'Grenada', 'Cuba'],
            "dictionary": ['Morocco', 'Japan', 'Spain'],
            "hiking-shoes": ['Iceland', 'Australia', 'Colombia']
        },
        "career": {
            "sculptor": ['Paris', 'Spain','London', 'Morocco'],
            "chef": ['New York', 'Japan','Greece', 'Italy', 'Austin'],
            "surfer": ['Mexico', 'Grenada', 'Bali', 'Cuba'],
            "park": [ 'Australia', 'Iceland', 'Colombia']
        },
        "movie": {
            "action": ['New York', 'Colombia', 'Australia', 'Iceland'],
            "romance": ['Paris', 'London', 'Spain', 'Italy', 'Grenada', 'Bali'],
            "comedy": ['Greece', 'Austin', 'Cuba', 'Mexico' ],
            "sci-fi": ['Japan', 'Morocco' ]
        },
        "orderly": {
            "very": ['Japan', 'London', 'Morocco' ],
            "moderate": ['Australia', 'Austin', 'Paris', 'Greece', 'Italy', 'Spain'],
            "minimal": ['Bali', 'Iceland', 'Grenada'],
            "chaotic": ['New York','Cuba', 'Colombia', 'Mexico']
        }
    };
    function sendSurveyResults(destinationKey) {
        const budget = document.querySelector('input[name="budget"]:checked')?.value;
        const activity = document.querySelector('input[name="activity"]:checked')?.value;
        const temperature = document.querySelector('input[name="temperature"]:checked')?.value;
        const food = document.querySelector('input[name="food"]:checked')?.value;
        const companion = document.querySelector('input[name="companion"]:checked')?.value;
        const nightTime = document.querySelector('input[name="night-time"]:checked')?.value;
        const packingItems = document.querySelector('input[name="packing-items"]:checked')?.value;
        const career = document.querySelector('input[name="career"]:checked')?.value;
        const movie = document.querySelector('input[name="movie"]:checked')?.value;
        const orderly = document.querySelector('input[name="orderly"]:checked')?.value;
        const email = document.getElementById('email-input').value; 

        // Construct the webhook URL with query parameters
        const webhookUrl = `https://hooks.zapier.com/hooks/catch/18256938/300p734/?budget=${budget}&activity=${activity}&temperature=${temperature}&food=${food}&companion=${companion}&night-time=${nightTime}&packing-items=${packingItems}&career=${career}&movie=${movie}&orderly=${orderly}&destination=${destinationKey}&email=${email}`;

        // Make the POST request
        fetch(webhookUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
        })
        .then(response => response.json())
        .then(data => console.log('Success:', data))
        .catch((error) => console.error('Error:', error));
    }

    document.addEventListener('DOMContentLoaded', function() {
        const budgetRadios = document.getElementsByName('budget');
        const activityRadios = document.getElementsByName('activity');
        const temperatureRadios = document.getElementsByName('temperature');
        const foodRadios = document.getElementsByName('food');
        const companionRadios = document.getElementsByName('companion');
        const nightTimeRadios = document.getElementsByName('night-time');
        const interiorDesignRadios = document.getElementsByName('packing-items');
        const careerRadios = document.getElementsByName('career');
        const movieRadios = document.getElementsByName('movie');
        const orderlyRadios = document.getElementsByName('orderly');
        const destinationImage = document.getElementById('destination-image');
        const destinationName = document.getElementById('destination-name');

        function updateDestinationImage() {
            const budget = Array.from(budgetRadios).find(radio => radio.checked)?.value;
            const activity = Array.from(activityRadios).find(radio => radio.checked)?.value;
            const temperature = Array.from(temperatureRadios).find(radio => radio.checked)?.value;
            const food = Array.from(foodRadios).find(radio => radio.checked)?.value;
            const companion = Array.from(companionRadios).find(radio => radio.checked)?.value;
            const nightTime = Array.from(nightTimeRadios).find(radio => radio.checked)?.value;
            const interiorDesign = Array.from(interiorDesignRadios).find(radio => radio.checked)?.value;
            const career = Array.from(careerRadios).find(radio => radio.checked)?.value;
            const movie = Array.from(movieRadios).find(radio => radio.checked)?.value;
            const orderly = Array.from(orderlyRadios).find(radio => radio.checked)?.value;

            if (budget && activity && temperature && food && companion && nightTime && interiorDesign && career && movie && orderly) {
                const destinationPoints = {};
                // Check each category and tally points for destinations
                const categories = ['budget', 'activity', 'temperature', 'food', 'companion', 'night-time', 'packing-items', 'career', 'movie', 'orderly'];
                const answers = [budget, activity, temperature, food, companion, nightTime, interiorDesign, career, movie, orderly];
                for (let i = 0; i < answers.length; i++) {
                    if (points[categories[i]][answers[i]]) {
                        points[categories[i]][answers[i]].forEach(destination => {
                            destinationPoints[destination] = (destinationPoints[destination] || 0) + 1;
                        });
                    }
                }
                // Find the destination with the most points by sorting
                console.log(destinationPoints);
                const destinationKey = Object.keys(destinationPoints).sort((a, b) => {
                    if (destinationPoints[a] === destinationPoints[b]) {
                        return a.localeCompare(b);
                    }
                    return destinationPoints[b] - destinationPoints[a];
                })[0];
                destinationImage.src = possibleDestinations[destinationKey] || 'https://example.com/placeholder.jpg'; // Placeholder image URL
                destinationName.textContent = `You're going to ${destinationKey || 'an amazing destination'}!`;
                sendSurveyResults(destinationKey);
                destinationName.style.display = 'block';
                destinationImage.style.display = 'block';
            } else {
                destinationName.style.display = 'none';
                destinationImage.style.display = 'none';
            }
        }

        // Attach the event listener to all categories
        const allRadios = [budgetRadios, activityRadios, temperatureRadios, foodRadios, companionRadios, nightTimeRadios, interiorDesignRadios, careerRadios, movieRadios, orderlyRadios];
        allRadios.forEach(group => group.forEach(radio => radio.addEventListener('change', updateDestinationImage)));
    });
</script>